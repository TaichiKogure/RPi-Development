# web_interface アーキテクチャ図

## コンポーネント構造図

```
+---------------------+
|                     |
|  P1_app_solo_new.py |
|  (エントリーポイント) |
|                     |
+----------+----------+
           |
           | インポート
           v
+----------+----------+     +-------------+
|                     |     |             |
|      main.py        +---->+  config.py  |
| (Webインターフェース) |     |  (設定管理)  |
|                     |     |             |
+-----+------+--------+     +-------------+
      |      |
      |      |
      |      |
      |      v
      | +-----------+----------+
      | |                      |
      | |    api/routes.py     |
      | |  (APIエンドポイント)  |
      | |                      |
      | +----+----------+------+
      |      |          |
      |      |          |
      v      v          |
+-----+------+----+     |
|                 |     |
| data/data_      |     |
| manager.py      |     |
| (データ管理)     |     |
|                 |     |
+-----------------+     |
                        |
      +----------------+
      |
      v
+-----+----------------+     +-------------+
|                      |     |             |
| visualization/       +---->+  utils/     |
| graph_generator.py   |     |  helper.py  |
| (グラフ生成)          |     | (ユーティリティ)|
|                      |     |             |
+----------------------+     +-------------+
```

## データフロー図

```
+-------------+     +-------------+     +-------------+
|             |     |             |     |             |
| センサーノード |---->| データ収集   |---->| データ保存   |
| (P2, P3)    |     | サービス     |     | (CSV)      |
|             |     |             |     |             |
+-------------+     +-------------+     +------+------+
                                               |
                                               |
                                               v
+-------------+     +-------------+     +------+------+
|             |     |             |     |             |
| ブラウザ     |<----| API         |<----| データ管理   |
| (クライアント) |     | エンドポイント |     | (読み込み)  |
|             |     |             |     |             |
+-------------+     +-------------+     +------+------+
      ^                                        |
      |                                        |
      |                                        v
      |                                 +------+------+
      |                                 |             |
      +---------------------------------+ グラフ生成   |
                                        | (可視化)    |
                                        |             |
                                        +-------------+
```

## コンポーネント依存関係

```
P1_app_solo_new.py
  |
  +---> main.py
         |
         +---> config.py
         |
         +---> data/data_manager.py
         |      |
         |      +---> config.py
         |
         +---> visualization/graph_generator.py
         |      |
         |      +---> utils/helper.py
         |
         +---> api/routes.py
                |
                +---> data/data_manager.py
                |
                +---> visualization/graph_generator.py
```

## 技術スタック階層

```
+-----------------------------------------------+
|                                               |
|               ブラウザ (クライアント)            |
|                                               |
+-----------------------------------------------+
                      |
                      | HTTP
                      v
+-----------------------------------------------+
|                                               |
|               Flask (Webフレームワーク)         |
|                                               |
+-----------------------------------------------+
                      |
          +-----------+-----------+
          |                       |
          v                       v
+-------------------+   +-------------------+
|                   |   |                   |
|  Pandas (データ処理) |   | Plotly (可視化)   |
|                   |   |                   |
+-------------------+   +-------------------+
          |                       |
          v                       v
+-----------------------------------------------+
|                                               |
|               Python (言語)                    |
|                                               |
+-----------------------------------------------+
                      |
                      v
+-----------------------------------------------+
|                                               |
|          ファイルシステム (データ保存)           |
|                                               |
+-----------------------------------------------+
```

## MVCアーキテクチャパターン

```
+-------------------+   +-------------------+   +-------------------+
|                   |   |                   |   |                   |
|      Model        |   |     Controller    |   |       View        |
|                   |   |                   |   |                   |
+-------------------+   +-------------------+   +-------------------+
|                   |   |                   |   |                   |
| data/             |   | api/routes.py     |   | templates/        |
| data_manager.py   |   | main.py           |   | index.html        |
|                   |   |                   |   |                   |
+-------------------+   +-------------------+   +-------------------+
                                                |                   |
                                                | static/css/       |
                                                | style.css         |
                                                |                   |
                                                +-------------------+
                                                |                   |
                                                | static/js/        |
                                                | dashboard.js      |
                                                |                   |
                                                +-------------------+
```

これらの図は、web_interfaceディレクトリの構造、コンポーネント間の依存関係、データフロー、技術スタック、およびMVCアーキテクチャパターンを視覚的に表現しています。これにより、システムの全体像を把握しやすくなります。